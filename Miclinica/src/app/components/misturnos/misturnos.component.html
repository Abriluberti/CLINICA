<!-- Encabezado "Mis Turnos" -->
<h2 >Mis Turnos</h2>

<!-- Filtro de búsqueda -->
<div>
  <label for="especialidad">Especialidad:</label>
  <input type="text" id="especialidad" [(ngModel)]="filtroEspecialidad" placeholder="Ingrese la especialidad">

  <label for="especialista">Especialista:</label>
  <input type="text" id="especialista" [(ngModel)]="filtroEspecialista" placeholder="Ingrese el especialista">

  <button (click)="buscarTurnos()">Buscar</button>
</div>

<!-- Lista de turnos filtrados -->
<div *ngIf="busquedaRealizada && turnosFiltrados.length > 0">
  <div *ngFor="let turno of turnosFiltrados">
    <p>Especialidad: {{ turno.especialidadId }}</p>
    <p>Especialista: {{ turno.especialistaId }}</p>
    <p>Fecha: {{ turno.fecha }}</p>
    <p>Hora: {{ turno.hora }}</p>
    <p>Estado: {{ turno.estado }}</p>

    <button *ngIf="turno.resena" (click)="verResena(turno)">Ver Reseña</button>
    <button *ngIf="turno.estado === 'Realizado' && !turno.encuestaCompleta" (click)="completarEncuesta(turno)">Completar Encuesta</button>
    <button *ngIf="turno.estado === 'Realizado' && turno.encuestaCompleta" (click)="calificarAtencion(turno)">Calificar Atención</button>
    <!-- Agregar condición para ocultar el botón Cancelar Turno -->
    <button *ngIf="mostrarCancelar(turno.estado) && turno.estado !== 'Cancelado'" (click)="cancelarTurno(turno.id)">Cancelar Turno</button>
  </div>
</div>

